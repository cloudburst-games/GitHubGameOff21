[gd_scene load_steps=17 format=2]

[ext_resource path="res://Levels/Level1/TerrainLevel1.tscn" type="PackedScene" id=1]
[ext_resource path="res://Levels/Common/TransitionMarker/LevelTransitionMarker.tscn" type="PackedScene" id=2]
[ext_resource path="res://Systems/SaveSystem/AutosaveArea.tscn" type="PackedScene" id=3]
[ext_resource path="res://Levels/Common/LevelLocation/LevelLocation.cs" type="Script" id=4]
[ext_resource path="res://Doodads/WorldObstacles/TestObstacle.tscn" type="PackedScene" id=5]
[ext_resource path="res://Levels/Common/Navigation/WorldNavigation.cs" type="Script" id=6]
[ext_resource path="res://Actors/NPC/NPC.tscn" type="PackedScene" id=7]
[ext_resource path="res://Levels/Common/Navigation/LevelNPCManager.cs" type="Script" id=8]
[ext_resource path="res://Interface/Icons/Food.png" type="Texture" id=9]
[ext_resource path="res://addons/Actors/Isometric2DKinematicCharacter/Art/Death/villager_death_10014.png" type="Texture" id=10]
[ext_resource path="res://addons/Actors/Isometric2DKinematicCharacter/Art/Death/villager_death_40008.png" type="Texture" id=11]
[ext_resource path="res://Effects/SpellEffects/Art/WhiteSphericalParticle.png" type="Texture" id=12]
[ext_resource path="res://Interface/Buttons/BtnBase/BtnClicked.png" type="Texture" id=13]
[ext_resource path="res://Doodads/WorldObstacles/TestTreeObstacle.tscn" type="PackedScene" id=14]
[ext_resource path="res://Props/Buildings/Shop/Shop.tscn" type="PackedScene" id=15]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 601.027, 775.031, 608.162, 687.03, 650.973, 677.516, 727.083, 668.002, 729.461, 839.248, 665.244, 912.979, -10.2261, 682.273, 53.9912, 658.489, 113.452, 658.489, 358.428, 789.301, 339.401, 834.491, 63.5049, 1281.63, -5.46924, 1236.44, -93.4706, 794.058, -93.4706, 732.219, -481.152, 981.953, -174.337, 1319.69, -155.309, 1393.42, -241.4, 1424.4, -281.365, 1429.1, -324.177, 1410.07, -550.126, 1069.95, -547.748, 1015.25, 391.726, 855.897, 620.054, 993.845, -545.37, 1293.53, -609.587, 1260.23, -604.83, 1229.31, -564.397, 1081.85, 603.405, 1077.09, 527.77, 1153.18, -619.1, 1115.14, 532.008, 1212.51, 464.203, 1250.65, 408.375, 1293.53, 165.777, 1329.2, -326.555, 901.087, -383.637, 1429.1, -438.341, 1414.82, -526.342, 1364.88 )
polygons = [ PoolIntArray( 0, 1, 2, 3, 4, 5 ), PoolIntArray( 6, 7, 8, 9, 10, 11, 12, 13, 14 ), PoolIntArray( 15, 16, 17, 18, 19, 20, 21, 22 ), PoolIntArray( 23, 0, 5, 24 ), PoolIntArray( 25, 26, 27, 28, 21 ), PoolIntArray( 23, 24, 29, 30 ), PoolIntArray( 27, 31, 28 ), PoolIntArray( 30, 32, 33, 23 ), PoolIntArray( 10, 23, 33, 34, 35, 11 ), PoolIntArray( 36, 13, 12, 16, 15 ), PoolIntArray( 21, 20, 37, 38, 39, 25 ) ]
outlines = [ PoolVector2Array( -10.2261, 682.273, -93.4706, 732.219, -93.4706, 794.058, -326.555, 901.087, -481.152, 981.953, -547.748, 1015.25, -550.126, 1069.95, -564.397, 1081.85, -619.1, 1115.14, -604.83, 1229.31, -609.587, 1260.23, -545.37, 1293.53, -526.342, 1364.88, -438.341, 1414.82, -383.637, 1429.1, -324.177, 1410.07, -281.365, 1429.1, -241.4, 1424.4, -155.309, 1393.42, -174.337, 1319.69, -5.46924, 1236.44, 63.5049, 1281.63, 165.777, 1329.2, 408.375, 1293.53, 464.203, 1250.65, 532.008, 1212.51, 527.77, 1153.18, 603.405, 1077.09, 620.054, 993.845, 665.244, 912.979, 729.461, 839.248, 727.083, 668.002, 650.973, 677.516, 608.162, 687.03, 601.027, 775.031, 391.726, 855.897, 339.401, 834.491, 358.428, 789.301, 113.452, 658.489, 53.9912, 658.489 ) ]

[node name="Level1" type="Node2D"]
script = ExtResource( 4 )

[node name="Terrain" parent="." instance=ExtResource( 1 )]

[node name="All" type="YSort" parent="."]

[node name="Units" type="YSort" parent="All"]

[node name="LevelNPCManager" type="YSort" parent="All/Units"]
script = ExtResource( 8 )

[node name="Bob" parent="All/Units/LevelNPCManager" instance=ExtResource( 7 )]
position = Vector2( 189.176, 1009.85 )
ID = "NPC1"
UnitName = "Bobz"
PortraitPath = ExtResource( 9 )
PortraitPathSmall = ExtResource( 9 )
_combatLevel = 10
_minions = {
1: 0
}
_itemsHeld = [ 1, 1, 1, 1, 0, 5, 2, 3, 4, 0, 6, 0, 12, 13, 9, 7 ]

[node name="Jim" parent="All/Units/LevelNPCManager" instance=ExtResource( 7 )]
position = Vector2( -84.5477, 788.985 )
ID = "NPC0"
UnitName = "Jimmy"
PortraitPath = ExtResource( 10 )
PortraitPathSmall = ExtResource( 11 )
_mainCombatant = 1
_combatLevel = 2
_minions = {
0: 0,
1: 0
}
_potionEquipped1 = 0
_potionEquipped3 = 4

[node name="James" parent="All/Units/LevelNPCManager" instance=ExtResource( 7 )]
position = Vector2( -218.578, 1189.19 )
ID = "NPC0"
UnitName = "James Reginald"
_minions = {
1: 0
}

[node name="NeutralBill" parent="All/Units/LevelNPCManager" instance=ExtResource( 7 )]
position = Vector2( 108.628, 786.293 )
ID = "NPC0"
UnitName = "Bill Take-No-Sides"

[node name="EnemyJill" parent="All/Units/LevelNPCManager" instance=ExtResource( 7 )]
position = Vector2( -513.633, 1057.28 )
ID = "NPC1"
UnitName = "Evil Jill"
PortraitPath = ExtResource( 13 )
PortraitPathSmall = ExtResource( 12 )
_startingBools = {
"Companion": false,
"InitiatesDialogue": true
}
_startingBehaviour = 2
_combatLevel = 3

[node name="Position2D" type="Position2D" parent="All/Units/LevelNPCManager/EnemyJill"]
position = Vector2( 311.302, 327.745 )

[node name="Position2D2" type="Position2D" parent="All/Units/LevelNPCManager/EnemyJill"]
position = Vector2( -51.6437, 74.3371 )

[node name="TransitionMarkers" type="YSort" parent="All"]

[node name="LevelTransitionMarker" parent="All/TransitionMarkers" instance=ExtResource( 2 )]
position = Vector2( 716.197, 817.906 )
ButtonLabel = "To Level2"
DestinationLevel = 1

[node name="PositionMarkers" type="YSort" parent="All"]

[node name="PlayerPositionMarker" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 589.062, 847.571 )

[node name="CompanionPositionMarker1" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 543.756, 811.704 )

[node name="CompanionPositionMarker2" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 532.43, 868.336 )

[node name="CompanionPositionMarker3" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 579.623, 913.642 )

[node name="CompanionPositionMarker4" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 538.093, 953.285 )

[node name="CompanionPositionMarker5" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 477.685, 879.663 )

[node name="CompanionPositionMarker6" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 477.685, 802.265 )

[node name="AutosaveAreas" type="YSort" parent="All"]

[node name="AutosaveArea" parent="All/AutosaveAreas" instance=ExtResource( 3 )]
position = Vector2( -311.696, 986.988 )
_oneShot = false

[node name="Obstacles" type="YSort" parent="All"]

[node name="TestObstacle" parent="All/Obstacles" instance=ExtResource( 5 )]

[node name="TestTreeObstacle" parent="All/Obstacles" instance=ExtResource( 14 )]
position = Vector2( 292.253, 912.593 )

[node name="TestTreeObstacle2" parent="All/Obstacles" instance=ExtResource( 14 )]
position = Vector2( 245.109, 1008 )

[node name="TestTreeObstacle3" parent="All/Obstacles" instance=ExtResource( 14 )]
position = Vector2( 312.457, 1144.94 )

[node name="Shops" type="YSort" parent="All"]

[node name="Shop" parent="All/Shops" instance=ExtResource( 15 )]
position = Vector2( -20.4878, 1096.57 )
_startingItemsStocked = [ 4, 1, 9, 10, 11, 12, 13 ]
_introText = "Welcome! Please, peruse my humble wares."
_shopTitle = "Abdul's Desert Merchandise"
_stinginess = 1.5

[node name="WorldNavigation" type="Navigation2D" parent="."]
script = ExtResource( 6 )

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="WorldNavigation"]
navpoly = SubResource( 1 )
