[gd_scene load_steps=12 format=2]

[ext_resource path="res://Levels/Common/TransitionMarker/LevelTransitionMarker.tscn" type="PackedScene" id=1]
[ext_resource path="res://Levels/Level5/TerrainLevel5.tscn" type="PackedScene" id=2]
[ext_resource path="res://Systems/SaveSystem/AutosaveArea.tscn" type="PackedScene" id=3]
[ext_resource path="res://Props/Buildings/Shop/Shop.tscn" type="PackedScene" id=4]
[ext_resource path="res://Levels/Common/LevelLocation/LevelLocation.cs" type="Script" id=5]
[ext_resource path="res://Levels/Common/Navigation/WorldNavigation.cs" type="Script" id=6]
[ext_resource path="res://Levels/Common/Navigation/LevelNPCManager.cs" type="Script" id=7]
[ext_resource path="res://Actors/PortraitPlaceholders/Small/Companion1.PNG" type="Texture" id=8]
[ext_resource path="res://Actors/NPC/NPC.tscn" type="PackedScene" id=9]
[ext_resource path="res://Actors/PortraitPlaceholders/Big/Companion1.PNG" type="Texture" id=10]

[sub_resource type="NavigationPolygon" id=1]
vertices = PoolVector2Array( 225.121, 479.153, 424.91, 430.938, 492.101, 461.858, 481.398, 500.507, 466.533, 500.507, -1, 1020.75, -102.5, 969.5, -90.0167, 966.082, 133.555, 920.297, 169.25, 937, 115.716, 914.351, -73.9624, 954.189, -37.097, 944.676, 97.8784, 904.838, -33.5293, 924.459, 442.748, 518.94, 421.937, 521.913, 411.829, 538.562, 220.359, 497.408, 411.234, 408.938, 207.66, 445.817, 223.534, 422.8, 93.7162, 888.189, -42.4484, 910.783, -42.4484, 894.729, -35.9077, 884.621, -153.474, 332.318, -159.824, 371.21, -171.729, 371.21, 358.315, 330.45, 407.072, 360.775, 423.721, 389.911, 216.391, 393.433, 222.74, 345.017, 333.341, 325.693, 423.721, 364.343, 288.746, 295.963, 325.017, 312.612, 215.597, 322.794, 178.744, 245.422, 168.768, 322.794, -37.097, 853.107, 86.5809, 838.836, 104.419, 844.783, 102.635, 876.297, 71.1212, 826.35, 43.1749, 815.647, -104.264, 663.291, 27.1206, 793.647, -104.287, 818.025, -118.558, 802.566, -136.013, 664.085, 27.1206, 206.178, 78.2565, 203.8, 113.933, 209.151, 160.831, 337.08, 139.402, 345.017, 98.1292, 341.049, 28.2835, 309.301, 15.5843, 290.252, 15.8231, 216.881, -158.991, 818.62, -185.748, 826.35, -230.938, 819.809, -233.911, 809.106, -233.716, 799.29, -227.965, 787.7, -151.855, 807.322, -309.039, 505.345, -283.641, 529.949, -293.959, 568.047, -345.55, 495.82, 424.316, 554.616, 421.937, 592.67, 379.72, 614.076, 352.369, 622.995, 140.195, 535.506, 172.737, 513.282, 347.612, 636.671, 318.476, 709.213, 301.233, 710.997, -151.887, 294.221, -163.792, 310.888, -483.05, 382.775, -495.536, 347.694, -486.617, 336.991, -266.614, 221.638, -231.532, 208.557, -154.233, 204.394, -135.801, 216.881, -229.221, 759.959, -410.891, 659.947, -422.503, 659.947, -429.62, 649.085, -432.616, 636.724, -421.211, 618.238, 289.341, 722.889, 267.935, 726.456, 216.204, 724.078, 204.907, 705.645, -6.77182, 215.097, -22.5134, 293.427, -97.1515, 204.394, -90.0163, 203.205, -29.3667, 204.394, -31.244, 306.92, -59.0236, 310.095, -106.646, 305.332, -116.17, 290.252, -117.368, 216.881, -483.05, 397.64, -342.375, 387.877, -549.645, 467.804, -560.67, 449.442, -554.997, 435.695, -538.348, 423.803, 361.288, 652.131, 355.936, 688.996, 85.4299, 587.096, 93.3669, 560.11, 117.178, 541.855, 171.015, 709.213, 94.9543, 609.32, 83.8425, 633.924, 156.744, 724.672, 121.663, 741.916, 87.1755, 757.376, 62.4126, 633.924, 59.2292, 774.619, 37.2289, 781.755, -76.485, 638.687, -40.7685, 626.781, 35.4268, 622.813, -155.855, 654.561, -234.84, 748.722, -239.335, 735.612, -228.097, 719.505, -201.89, 389.465, -222.526, 401.37, -262.211, 408.513, -297.134, 399.783, -303.484, 387.083, -367.44, 659.198, -393.286, 662.569, -420.616, 596.238, -352.831, 658.077, -343.318, 647.374, -357.455, 410.101, -343.962, 434.705, -347.137, 450.579, -359.836, 467.247, -283.641, 591.858, -309.425, 644.996, -531.13, 543.079, -547.611, 533.715, -554.354, 526.223, -555.477, 513.862, -548.735, 498.879, -495.17, 561.059, -527.034, 414.124, -449.097, 582.035, -235.963, 726.247, -178.079, 637.893, -229.154, 690.78, -207.446, 627.575, -297.533, 659.266, -231.257, 616.463, -257.449, 598.208, -186.016, 383.909 )
polygons = [ PoolIntArray( 0, 1, 2, 3, 4 ), PoolIntArray( 5, 6, 7 ), PoolIntArray( 8, 9, 5, 10 ), PoolIntArray( 5, 7, 11, 12 ), PoolIntArray( 13, 10, 5, 12, 14 ), PoolIntArray( 0, 4, 15, 16 ), PoolIntArray( 0, 16, 17, 18 ), PoolIntArray( 19, 1, 0, 20, 21 ), PoolIntArray( 22, 13, 14, 23, 24, 25 ), PoolIntArray( 26, 27, 28 ), PoolIntArray( 29, 30, 31, 19, 21, 32, 33, 34 ), PoolIntArray( 30, 35, 31 ), PoolIntArray( 36, 37, 34, 33, 38 ), PoolIntArray( 39, 36, 38, 40 ), PoolIntArray( 41, 42, 43, 44, 22, 25 ), PoolIntArray( 45, 42, 41, 46 ), PoolIntArray( 47, 48, 46, 41, 49, 50, 51 ), PoolIntArray( 52, 53, 54, 39, 40, 55, 56, 57, 58, 59, 60 ), PoolIntArray( 61, 62, 63, 64, 65, 66, 67 ), PoolIntArray( 68, 69, 70, 71 ), PoolIntArray( 18, 17, 72, 73, 74, 75 ), PoolIntArray( 76, 77, 18, 75, 78, 79, 80 ), PoolIntArray( 81, 82, 83, 84, 85, 86, 87, 88, 89 ), PoolIntArray( 67, 66, 90, 51, 50 ), PoolIntArray( 91, 92, 93, 94, 95 ), PoolIntArray( 96, 97, 98, 99, 76, 80 ), PoolIntArray( 100, 60, 59, 101 ), PoolIntArray( 102, 103, 104, 100, 101, 105, 106, 107, 108, 109 ), PoolIntArray( 89, 109, 108, 81 ), PoolIntArray( 110, 83, 82, 26, 28, 111 ), PoolIntArray( 112, 113, 114, 115 ), PoolIntArray( 116, 117, 79, 78 ), PoolIntArray( 118, 119, 120, 76, 99, 121, 122 ), PoolIntArray( 123, 122, 121, 124, 125, 126 ), PoolIntArray( 127, 123, 126, 128, 129 ), PoolIntArray( 47, 130, 131, 132, 127, 129, 48 ), PoolIntArray( 133, 51, 90, 134, 135, 136 ), PoolIntArray( 137, 138, 139, 140, 141, 28 ), PoolIntArray( 142, 143, 91, 95, 144 ), PoolIntArray( 145, 142, 144, 146 ), PoolIntArray( 147, 148, 149, 150, 110 ), PoolIntArray( 70, 151, 152, 146, 144, 110, 71 ), PoolIntArray( 153, 154, 155, 156, 157, 158 ), PoolIntArray( 158, 157, 112, 115, 159, 110, 160 ), PoolIntArray( 144, 160, 110 ), PoolIntArray( 135, 161, 136 ), PoolIntArray( 162, 133, 136, 163, 164 ), PoolIntArray( 164, 163, 165, 166 ), PoolIntArray( 151, 167, 166, 165, 152 ), PoolIntArray( 150, 71, 110 ), PoolIntArray( 111, 147, 110 ), PoolIntArray( 141, 111, 28 ), PoolIntArray( 137, 28, 168 ) ]
outlines = [ PoolVector2Array( -102.5, 969.5, -1, 1020.75, 169.25, 937, 133.555, 920.297, 115.716, 914.351, 97.8784, 904.838, 93.7162, 888.189, 102.635, 876.297, 104.419, 844.783, 86.5809, 838.836, 71.1212, 826.35, 43.1749, 815.647, 27.1206, 793.647, 37.2289, 781.755, 59.2292, 774.619, 87.1755, 757.376, 121.663, 741.916, 156.744, 724.672, 171.015, 709.213, 204.907, 705.645, 216.204, 724.078, 267.935, 726.456, 289.341, 722.889, 301.233, 710.997, 318.476, 709.213, 355.936, 688.996, 361.288, 652.131, 347.612, 636.671, 352.369, 622.995, 379.72, 614.076, 421.937, 592.67, 424.316, 554.616, 411.829, 538.562, 421.937, 521.913, 442.748, 518.94, 466.533, 500.507, 481.398, 500.507, 492.101, 461.858, 424.91, 430.938, 411.234, 408.938, 423.721, 389.911, 423.721, 364.343, 407.072, 360.775, 358.315, 330.45, 333.341, 325.693, 325.017, 312.612, 288.746, 295.963, 178.744, 245.422, 113.933, 209.151, 78.2565, 203.8, 27.1206, 206.178, 15.8231, 216.881, -6.77182, 215.097, -29.3667, 204.394, -90.0163, 203.205, -97.1515, 204.394, -117.368, 216.881, -135.801, 216.881, -154.233, 204.394, -231.532, 208.557, -266.614, 221.638, -486.617, 336.991, -495.536, 347.694, -483.05, 382.775, -483.05, 397.64, -527.034, 414.124, -538.348, 423.803, -554.997, 435.695, -560.67, 449.442, -549.645, 467.804, -548.735, 498.879, -555.477, 513.862, -554.354, 526.223, -547.611, 533.715, -531.13, 543.079, -495.17, 561.059, -449.097, 582.035, -420.616, 596.238, -421.211, 618.238, -432.616, 636.724, -429.62, 649.085, -422.503, 659.947, -410.891, 659.947, -393.286, 662.569, -367.44, 659.198, -352.831, 658.077, -343.318, 647.374, -309.425, 644.996, -297.533, 659.266, -229.154, 690.78, -228.097, 719.505, -235.963, 726.247, -239.335, 735.612, -234.84, 748.722, -229.221, 759.959, -227.965, 787.7, -233.716, 799.29, -233.911, 809.106, -230.938, 819.809, -185.748, 826.35, -158.991, 818.62, -151.855, 807.322, -118.558, 802.566, -104.287, 818.025, -37.097, 853.107, -35.9077, 884.621, -42.4484, 894.729, -42.4484, 910.783, -33.5293, 924.459, -37.097, 944.676, -73.9624, 954.189, -90.0167, 966.082 ), PoolVector2Array( -201.89, 389.465, -186.016, 383.909, -171.729, 371.21, -159.824, 371.21, -153.474, 332.318, -163.792, 310.888, -151.887, 294.221, -116.17, 290.252, -106.646, 305.332, -59.0236, 310.095, -31.244, 306.92, -22.5134, 293.427, 15.5843, 290.252, 28.2835, 309.301, 98.1292, 341.049, 139.402, 345.017, 160.831, 337.08, 168.768, 322.794, 215.597, 322.794, 222.74, 345.017, 216.391, 393.433, 223.534, 422.8, 207.66, 445.817, 225.121, 479.153, 220.359, 497.408, 172.737, 513.282, 140.195, 535.506, 117.178, 541.855, 93.3669, 560.11, 85.4299, 587.096, 94.9543, 609.32, 83.8425, 633.924, 62.4126, 633.924, 35.4268, 622.813, -40.7685, 626.781, -76.485, 638.687, -104.264, 663.291, -136.013, 664.085, -155.855, 654.561, -178.079, 637.893, -207.446, 627.575, -231.257, 616.463, -257.449, 598.208, -283.641, 591.858, -293.959, 568.047, -283.641, 529.949, -309.039, 505.345, -345.55, 495.82, -359.836, 467.247, -347.137, 450.579, -343.962, 434.705, -357.455, 410.101, -342.375, 387.877, -303.484, 387.083, -297.134, 399.783, -262.211, 408.513, -222.526, 401.37 ) ]

[node name="Level5" type="Node2D"]
script = ExtResource( 5 )
LevelName = "Southern Lunu"

[node name="Terrain" parent="." instance=ExtResource( 2 )]

[node name="All" type="YSort" parent="."]

[node name="Units" type="YSort" parent="All"]

[node name="LevelNPCManager" type="YSort" parent="All/Units"]
script = ExtResource( 7 )

[node name="Mahef" parent="All/Units/LevelNPCManager" instance=ExtResource( 9 )]
position = Vector2( 97.859, 250.344 )
_defeatMessage = ""
ID = "Mahef"
UnitName = "Mahef the Ferrybug"
PortraitPath = ExtResource( 10 )
PortraitPathSmall = ExtResource( 8 )
_combatLevel = 9
_minions = {
0: 2
}
_startingSpell1 = 1
_startingGold = 50
_itemsHeld = [ 4, 7, 10 ]
_potionEquipped1 = 4
_potionEquipped2 = 7
_weaponEquipped = 10

[node name="TransitionMarkers" type="YSort" parent="All"]

[node name="LevelTransitionMarker" parent="All/TransitionMarkers" instance=ExtResource( 1 )]
position = Vector2( 9.44716, 960.313 )
ButtonLabel = "To Central Lunu"
DestinationLevel = 1

[node name="PositionMarkers" type="YSort" parent="All"]

[node name="PlayerPositionMarker" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 8.00949, 904.502 )

[node name="CompanionPositionMarker1" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 87.0796, 924.269 )

[node name="CompanionPositionMarker2" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 68.4096, 948.197 )

[node name="CompanionPositionMarker3" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 27.4995, 940.11 )

[node name="CompanionPositionMarker4" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 54.7195, 911.009 )

[node name="CompanionPositionMarker5" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 13.6596, 962.862 )

[node name="CompanionPositionMarker6" type="Position2D" parent="All/PositionMarkers"]
position = Vector2( 21.0095, 914.83 )

[node name="AutosaveAreas" type="YSort" parent="All"]

[node name="AutosaveArea" parent="All/AutosaveAreas" instance=ExtResource( 3 )]
position = Vector2( -61.7206, 714.687 )

[node name="Obstacles" type="YSort" parent="All"]

[node name="InvisibleWall" type="StaticBody2D" parent="All/Obstacles"]
position = Vector2( 0.898376, 1022.86 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="All/Obstacles/InvisibleWall"]
polygon = PoolVector2Array( -105.533, -52.3687, -1.4407, -0.190186, 171.252, -86.2715, 173.106, -84.4175, -1.70557, 2.1936, -107.652, -50.7795 )

[node name="Shops" type="YSort" parent="All"]

[node name="Shop" parent="All/Shops" instance=ExtResource( 4 )]
position = Vector2( 218.087, 565.634 )
_startingItemsStocked = [ 1, 2, 3, 1, 4, 5, 6, 7, 12, 14, 10, 1, 4, 2 ]
_introText = "Welcome! Please, peruse my humble wares."
_shopTitle = "Watery Wares"
_buyMessage = "Hmph. Trash. I'll take it of your hands for {0} gold."

[node name="WorldNavigation" type="Navigation2D" parent="."]
script = ExtResource( 6 )

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="WorldNavigation"]
navpoly = SubResource( 1 )
